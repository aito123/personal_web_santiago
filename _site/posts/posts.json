[
  {
    "path": "posts/2022-05-06-unirbases/",
    "title": "Unificación de bases de datos",
    "description": "El objetivo de este post es unificar distintos módulos de la Encuesta Nacional de Hogares (ENAHO)",
    "author": [
      {
        "name": "Santiago Sotelo",
        "url": {}
      }
    ],
    "date": "2022-05-06",
    "categories": [],
    "contents": "\r\nPaquetes\r\n\r\n\r\npacman::p_load(\r\n  #Working directory\r\n  here,\r\n  #data tools\r\n  tidyverse, janitor, glue, lubridate, scales, Hmisc,lazyeval,\r\n  #Gráficos\r\n  plotly, ggrepel, cowplot, grid,\r\n  #importar / exportar\r\n  haven, rio, officer, officedown,\r\n  #Etiquetas\r\n  sjlabelled,\r\n  #tablas\r\n  xtable, flextable, knitr, kableExtra, DT, gtsummary, gt,\r\n  #Visualización\r\n  ggpubr, paletteer, RColorBrewer, grid, ggthemes, rvg, cowplot,  scales, ggtext, ggrepel,\r\n  #mapas\r\n  sf, sfheaders, leaflet, osmdata,\r\n  #Trabajar con encuestas\r\n  survey, srvyr\r\n  )\r\n\r\n\r\n\r\nBases de datos\r\nENAHO 2019\r\nEl tamaño anual de la muestra 2019 es de 36\r\n994 viviendas particulares, correspondiendo 23 346 viviendas al\r\nárea urbana y 13 648 viviendas al área rural.\r\nLa muestra de conglomerados en el ámbito nacional es\r\nde 5 359, corresponde 3 653 conglomerados al área\r\nurbana y 1 706 conglomerados al área rural. Con respecto al tamaño de la\r\nmuestra panel es de 1 808 conglomerados mientras que el tamaño de la\r\nmuestra no panel es de 3 551 conglomerados.\r\nAsimismo, el tamaño de la muestra panel es de 12 514 viviendas\r\nparticulares mientras que el tamaño de la muestra no panel es de 24 480\r\nviviendas particulares.\r\nENAHO 2020\r\nEl tamaño anual de la muestra 2020 es de 37\r\n103 viviendas particulares, correspondiendo 23 895 viviendas al\r\nárea urbana y 13 208 viviendas al área rural.\r\nLa muestra de conglomerados en el ámbito nacional es\r\nde 5 359, corresponde 3 706 conglomerados al área\r\nurbana y 1 653 conglomerados al área rural. Con respecto al tamaño de la\r\nmuestra panel es de 1 833 conglomerados mientras que el tamaño de la\r\nmuestra no panel es de 3 526 conglomerados.\r\nAsimismo, el tamaño de la muestra panel es de 12 702 viviendas\r\nparticulares mientras que el tamaño de la muestra no panel es de 24 401\r\nviviendas particulares.\r\nImportación\r\nSe importan las bases de datos de los años 2019 y 2020 de la ENAHO\r\n(actualizado anual). En mi caso, tengo las bases descargas en mi\r\ncomputadora por lo que me resulta más conveniente accederlas desde mis\r\narchivos con el siguiente código.\r\n\r\n\r\n#ENAHO 2019 ACTUALIZADA ANUAL\r\n\r\n#modulo 01: Características de la Vivienda y del Hogar\r\nm01_2019<-read_sav(here(\"687-Modulo01/Enaho01-2019-100.sav\"))\r\n\r\n#modulo 03: Educación\r\nm03_2019<-read_sav(here(\"687-Modulo03/Enaho01A-2019-300.sav\"))\r\n\r\n#modulo 05: Empleo e Ingresos\r\nm05_2019<-read_sav(here(\"687-Modulo05/Enaho01a-2019-500.sav\"))\r\n\r\n#modulo 34: Sumarias (Variables Calculadas)\r\nm34_2019<-read_sav(here(\"687-Modulo34/Sumaria-2019.sav\"))\r\n\r\n\r\n#ENAHO 2020 ACTUALIZADA ANUAL\r\n\r\n#modulo 01: Características de la Vivienda y del Hogar\r\nm01_2020<-read_sav(here(\"737-Modulo01/Enaho01-2020-100.sav\"))\r\n\r\n#modulo 03: Educación\r\nm03_2020<-read_sav(here(\"737-Modulo03/Enaho01A-2020-300.sav\"))\r\n\r\n#modulo 05: Empleo e Ingresos\r\nm05_2020<-read_sav(here(\"737-Modulo05/Enaho01A-2020-500.sav\"))\r\n\r\n#modulo 34: Sumarias (Variables Calculadas)\r\nm34_2020<-read_sav(here(\"737-Modulo34/Sumaria-2020.sav\"))\r\n\r\n\r\n\r\nSin embargo, en caso no cuente con las bases de datos en su\r\ncomputadora, puede correr el siguiente bloque de código que descargará\r\nlas bases de la página del INEI en un directorio temporal. Cabe\r\nmencionar que es necesario cambiar el parámetro eval= a\r\nTRUE:\r\n\r\n\r\ndescargar<-function(ruta_web,archivo){\r\n  #cortesía de Claudio Pacheco\r\n  temp <- tempdir()\r\n\r\n  tf = tempfile(tmpdir=temp, fileext=\".zip\")\r\n  \r\n  download.file(ruta_web, tf)\r\n  \r\n  unzip(tf, files=archivo, exdir=temp, overwrite=TRUE)\r\n  \r\n  fpath=file.path(temp,archivo)\r\n  \r\n  unlink(temp)\r\n  \r\n  return(fpath)\r\n  \r\n}\r\n\r\n#ENAHO 2019 ACTUALIZADA ANUAL\r\n\r\n#modulo 01: Características de la Vivienda y del Hogar\r\nm01_2019<-read_sav(descargar(\"http://iinei.inei.gob.pe/iinei/srienaho/descarga/SPSS/687-Modulo01.zip\",\r\n                             \"687-Modulo01/Enaho01-2019-100.sav\"))\r\n\r\n#modulo 03: Educación\r\nm03_2019<-read_sav(descargar(\"http://iinei.inei.gob.pe/iinei/srienaho/descarga/SPSS/687-Modulo03.zip\",\r\n                             \"687-Modulo03/Enaho01A-2019-300.sav\"))\r\n\r\n#modulo 05: Empleo e Ingresos\r\nm05_2019<-read_sav(descargar(\"http://iinei.inei.gob.pe/iinei/srienaho/descarga/SPSS/687-Modulo05.zip\",\r\n                             \"687-Modulo05/Enaho01a-2019-500.sav\"))\r\n\r\n#modulo 34: Sumarias (Variables Calculadas)\r\nm34_2019<-read_sav(descargar(\"http://iinei.inei.gob.pe/iinei/srienaho/descarga/SPSS/687-Modulo34.zip\",\r\n                             \"687-Modulo34/Sumaria-2019.sav\"))\r\n\r\n\r\n#ENAHO 2020 ACTUALIZADA ANUAL\r\n\r\n#modulo 01: Características de la Vivienda y del Hogar\r\nm01_2020<-read_sav(descargar(\"http://iinei.inei.gob.pe/iinei/srienaho/descarga/SPSS/737-Modulo01.zip\",\r\n                             \"737-Modulo01/Enaho01-2020-100.sav\"))\r\n\r\n#modulo 03: Educación\r\nm03_2020<-read_sav(descargar(\"http://iinei.inei.gob.pe/iinei/srienaho/descarga/SPSS/737-Modulo03.zip\",\r\n                             \"737-Modulo03/Enaho01A-2020-300.sav\"))\r\n\r\n#modulo 05: Empleo e Ingresos\r\nm05_2020<-read_sav(descargar(\"http://iinei.inei.gob.pe/iinei/srienaho/descarga/SPSS/737-Modulo05.zip\",\r\n                             \"737-Modulo05/Enaho01A-2020-500.sav\"))\r\n\r\n#modulo 34: Sumarias (Variables Calculadas)\r\nm34_2020<-read_sav(descargar(\"http://iinei.inei.gob.pe/iinei/srienaho/descarga/SPSS/737-Modulo34.zip\",\r\n                             \"737-Modulo34/Sumaria-2020.sav\"))\r\n\r\n\r\n\r\nVariables Identificadoras\r\nLas variables que me servirán para cruzar las bases de datos son las\r\nsiguientes:\r\n\r\n\r\nm01_2019 %>%\r\n  select(`AÑO`,MES,CONGLOME,VIVIENDA,HOGAR,UBIGEO,DOMINIO,ESTRATO) %>% \r\n  sjPlot::view_df()\r\n\r\n\r\n\r\nData frame: .\r\n\r\n\r\nID\r\n\r\n\r\nName\r\n\r\n\r\nLabel\r\n\r\n\r\nValues\r\n\r\n\r\nValue Labels\r\n\r\n\r\n1\r\n\r\n\r\nAÑO\r\n\r\n\r\nAño de la Encuesta\r\n\r\n\r\n\r\n\r\n<output omitted>\r\n\r\n\r\n2\r\n\r\n\r\nMES\r\n\r\n\r\nMes de Ejecución de la Encuesta\r\n\r\n\r\n\r\n\r\n<output omitted>\r\n\r\n\r\n3\r\n\r\n\r\nCONGLOME\r\n\r\n\r\nNúmero de Conglomerado\r\n\r\n\r\n\r\n\r\n<output omitted>\r\n\r\n\r\n4\r\n\r\n\r\nVIVIENDA\r\n\r\n\r\nNúmero de Selección de Vivienda\r\n\r\n\r\n\r\n\r\n<output omitted>\r\n\r\n\r\n5\r\n\r\n\r\nHOGAR\r\n\r\n\r\nNúmero secuencial del Hogar\r\n\r\n\r\n\r\n\r\n<output omitted>\r\n\r\n\r\n6\r\n\r\n\r\nUBIGEO\r\n\r\n\r\nUbicación geográfica\r\n\r\n\r\n\r\n\r\n<output omitted>\r\n\r\n\r\n7\r\n\r\n\r\nDOMINIO\r\n\r\n\r\nDominio Geográfico\r\n\r\n\r\n12345678\r\n\r\n\r\nCosta NorteCosta CentroCosta SurSierra NorteSierra\r\nCentroSierra SurSelvaLima Metropolitana\r\n\r\n\r\n8\r\n\r\n\r\nESTRATO\r\n\r\n\r\nEstrato Geográfico\r\n\r\n\r\n12345678\r\n\r\n\r\nDe 500 000 a más habitantes De 100 000 a 499 999 habitantes De\r\n50 000 a 99 999 habitantes De 20 000 a 49 999 habitantesDe 2 000\r\na 19 999 habitantes De 500 a 1 999 habitantes Área de\r\nEmpadronamiento Rural (AER) Compuesto Área de Empadronamiento Rural\r\n(AER) Simple\r\n\r\n\r\nPara verificar que se tiene el número de conglomerados adecuado y de\r\nhogares se realiza la siguiente función:\r\nNúmero de conglomerados\r\n\r\n\r\nm01_2019 %>% \r\n  count(CONGLOME) %>% \r\n  nrow()\r\n\r\n\r\n[1] 5359\r\n\r\nNúmero de hogares\r\n\r\n\r\nm01_2019 %>% \r\n  count(CONGLOME,VIVIENDA,HOGAR) %>% \r\n  nrow()\r\n\r\n\r\n[1] 43868\r\n\r\nMódulo 01\r\nSe seleccionan las siguientes variables del módulo 01:\r\nCaracterísticas de la Vivienda y del Hogar.\r\n\r\n\r\nm01_2019 %>%\r\n  select(PANEL,NBI1,NBI2,NBI3,NBI4,NBI5,FACTOR07) %>% \r\n  sjPlot::view_df()\r\n\r\n\r\n\r\nData frame: .\r\n\r\n\r\nID\r\n\r\n\r\nName\r\n\r\n\r\nLabel\r\n\r\n\r\nValues\r\n\r\n\r\nValue Labels\r\n\r\n\r\n1\r\n\r\n\r\nPANEL\r\n\r\n\r\n¿El hogar fue entrevistado el año pasado?\r\n\r\n\r\n12\r\n\r\n\r\nSiNo\r\n\r\n\r\n2\r\n\r\n\r\nNBI1\r\n\r\n\r\nVivienda inadecuada ( Necesidad BásicaInsatisfecha 1 )\r\n\r\n\r\n01\r\n\r\n\r\nVivienda adecuadaVivienda inadecuada\r\n\r\n\r\n3\r\n\r\n\r\nNBI2\r\n\r\n\r\nVivienda con hacinamiento ( Necesidad BásicaInsatisfecha 2 )\r\n\r\n\r\n01\r\n\r\n\r\nVivienda sin hacinamientoVivienda con hacinamiento\r\n\r\n\r\n4\r\n\r\n\r\nNBI3\r\n\r\n\r\nHogares con vivienda sin servicios higiénicos (Necesidad Básica\r\nInsatisfecha 3 )\r\n\r\n\r\n01\r\n\r\n\r\nHogares con vivienda con servicios higienicosHogares con vivienda\r\nsin servicios hogienicos\r\n\r\n\r\n5\r\n\r\n\r\nNBI4\r\n\r\n\r\nHogares con niños que no asisten a la escuela (Necesidad Básica\r\nInsatisfecha 4 )\r\n\r\n\r\n01\r\n\r\n\r\nHogares con niños que asisten a la escuelaHogares con niños que no\r\nasisten a la escuela\r\n\r\n\r\n6\r\n\r\n\r\nNBI5\r\n\r\n\r\nHogares con alta dependencia económica ( NecesidadBásica\r\nInsatisfecha 5)\r\n\r\n\r\n01\r\n\r\n\r\nHogares sin alta dependencia económicaHogares con alta dependencia\r\neconómica\r\n\r\n\r\n7\r\n\r\n\r\nFACTOR07\r\n\r\n\r\nFactor de Expansión Anual Proyecciones CPV-2007\r\n\r\n\r\nrange: 2.8-1751.3\r\n\r\n\r\nMódulo 03\r\nSe seleccionan las siguientes variables del módulo 03:\r\nEducación.\r\n\r\n\r\nm03_2019 %>%\r\n  select(CODPERSO,P300A,P301A,FACTOR07)%>%\r\n  sjPlot::view_df()\r\n\r\n\r\n\r\nData frame: .\r\n\r\n\r\nID\r\n\r\n\r\nName\r\n\r\n\r\nLabel\r\n\r\n\r\nValues\r\n\r\n\r\nValue Labels\r\n\r\n\r\n1\r\n\r\n\r\nCODPERSO\r\n\r\n\r\nCódigo de la persona\r\n\r\n\r\n\r\n\r\n<output omitted>\r\n\r\n\r\n2\r\n\r\n\r\nP300A\r\n\r\n\r\n¿Cuál es el Idioma o lengua materna que aprendióen su niñez?\r\n\r\n\r\n12346789\r\n\r\n\r\nQuechuaAymaráOtra lengua\r\nnativaCastellanoPortuguésOtra lengua extranjeraNo\r\nescucha/no hablaLengua de señas peruanas\r\n\r\n\r\n3\r\n\r\n\r\nP301A\r\n\r\n\r\n¿Cuál es el último año o grado de estudios y nivelque aprobó? -\r\nNivel\r\n\r\n\r\n123456789101112\r\n\r\n\r\nSin nivelEducación inicialPrimaria incompletaPrimaria\r\ncompletaSecundaria incompletaSecundaria completaSuperior no\r\nuniversitaria IncompletaSuperior no universitaria\r\ncompletaSuperior universitaria incompletaSuperior universitaria\r\ncompletaMaestria/DoctoradoBásica especial\r\n\r\n\r\n4\r\n\r\n\r\nFACTOR07\r\n\r\n\r\nFactor de expansión anual proyecciones CPV-2007\r\n\r\n\r\nrange: 2.8-1751.3\r\n\r\n\r\nMódulo 05\r\nSe seleccionan las siguientes variables del módulo 05: Empleo\r\ne Ingresos.\r\n\r\n\r\nm05_2019 %>%\r\n  select(CODPERSO,P507,P207,P208A,I520,I538A1,I538E1,OCU500,D524A1,OCUPINF,EMPLPSEC,FAC500A)%>%\r\n  sjPlot::view_df()\r\n\r\n\r\n\r\nData frame: .\r\n\r\n\r\nID\r\n\r\n\r\nName\r\n\r\n\r\nLabel\r\n\r\n\r\nValues\r\n\r\n\r\nValue Labels\r\n\r\n\r\n1\r\n\r\n\r\nCODPERSO\r\n\r\n\r\nNúmero de orden de la persona\r\n\r\n\r\n\r\n\r\n<output omitted>\r\n\r\n\r\n2\r\n\r\n\r\nP507\r\n\r\n\r\nUd. se desempeño en su ocupación principal onegocio como:\r\n\r\n\r\n1234567\r\n\r\n\r\nEmpleador o patronoTrabajador\r\nIndependienteEmpleadoObreroTrabajador Familiar No\r\nRemuneradoTrabajador del HogarOtro\r\n\r\n\r\n3\r\n\r\n\r\nP207\r\n\r\n\r\nSexo\r\n\r\n\r\n12\r\n\r\n\r\nHombreMujer\r\n\r\n\r\n4\r\n\r\n\r\nP208A\r\n\r\n\r\n¿Qué edad tiene en años cumplidos?\r\n\r\n\r\nrange: 14-98\r\n\r\n\r\n5\r\n\r\n\r\nI520\r\n\r\n\r\n(Imputado) Normalmente, ¿Cuántas horas trabaja ala semana en todas\r\nsus ocupaciones?\r\n\r\n\r\nrange: 1.0-98.0\r\n\r\n\r\n6\r\n\r\n\r\nI538A1\r\n\r\n\r\n(Imputado, deflactado, anualizado) ¿Cuánto fue suingreso en el mes\r\nanterior, incluyendo horasextras, bonificaciones, pago por concepto\r\nderefrigerio, etc. en su(s) ocupación(es)secundaria(as)? - Monto\r\nTotal S/. - Ingreso Total\r\n\r\n\r\nrange: 120.0-71854.0\r\n\r\n\r\n7\r\n\r\n\r\nI538E1\r\n\r\n\r\n(Imputado, deflactado, anualizado) ¿Cuánto fue suingreso en el mes\r\nanterior, incluyendo horasextras, bonificaciones, pago por concepto\r\nderefrigerio, etc. en su(s) ocupación(es)secundaria(as)? - Monto\r\nTotal S/. - Ingresolíquido\r\n\r\n\r\nrange: 120.0-71854.0\r\n\r\n\r\n8\r\n\r\n\r\nOCU500\r\n\r\n\r\nIndicador de la PEA\r\n\r\n\r\n1234\r\n\r\n\r\nOcupadoDesocupado abiertoDesocupado ocultoNo PEA\r\n\r\n\r\n9\r\n\r\n\r\nD524A1\r\n\r\n\r\n(Deflactado, anualizado) ¿Cuánto fue su ingresototal en el(la) …\r\nanterior, incluyendo las horasextras, bonificaciones, pago por\r\nconcepto derefrigerio, movilidad, comisiones, etc.? - MontoS/. -\r\nIngreso Total\r\n\r\n\r\nrange: 96-303554\r\n\r\n\r\n10\r\n\r\n\r\nOCUPINF\r\n\r\n\r\nSituación de informalidad (ocup.principal)\r\n\r\n\r\n12\r\n\r\n\r\nempleo informalempleo formal\r\n\r\n\r\n11\r\n\r\n\r\nEMPLPSEC\r\n\r\n\r\nEmpleo informal dentro y fuera del Sector informal(ocup. principal)\r\n\r\n\r\n12\r\n\r\n\r\nempleo informal en el sector informalempleo informal fuera del\r\nsector informal\r\n\r\n\r\n12\r\n\r\n\r\nFAC500A\r\n\r\n\r\nFactor de Expansión de Empleo/Ingresosproyecciones CPV-2007\r\n\r\n\r\nrange: 1.9-2210.3\r\n\r\n\r\nMódulo 34\r\nSe seleccionan las siguientes variables del módulo 34:\r\nSumarias.\r\n\r\n\r\nm34_2019 %>%\r\n  select(MIEPERHO,INGHOG2D,GASHOG2D,GRU11HD,ESTRSOCIAL,POBREZA,FACTOR07)%>%#no deberia ser ingreso bruto INGHOG1D?\r\n  sjPlot::view_df()\r\n\r\n\r\n\r\nData frame: .\r\n\r\n\r\nID\r\n\r\n\r\nName\r\n\r\n\r\nLabel\r\n\r\n\r\nValues\r\n\r\n\r\nValue Labels\r\n\r\n\r\n1\r\n\r\n\r\nMIEPERHO\r\n\r\n\r\ntotal de miembros del hogar\r\n\r\n\r\nrange: 1-20\r\n\r\n\r\n2\r\n\r\n\r\nINGHOG2D\r\n\r\n\r\ningreso neto total\r\n\r\n\r\nrange: 31.2-503308.2\r\n\r\n\r\n3\r\n\r\n\r\nGASHOG2D\r\n\r\n\r\ngasto total bruto\r\n\r\n\r\nrange: 780.8-301041.1\r\n\r\n\r\n4\r\n\r\n\r\nGRU11HD\r\n\r\n\r\ngrupo 1 : alimentos - gasto\r\n\r\n\r\nrange: 0.0-47024.9\r\n\r\n\r\n5\r\n\r\n\r\nESTRSOCIAL\r\n\r\n\r\nEstrato Socio-Económico\r\n\r\n\r\n123456\r\n\r\n\r\nABCDERural\r\n\r\n\r\n6\r\n\r\n\r\nPOBREZA\r\n\r\n\r\npobreza\r\n\r\n\r\n123\r\n\r\n\r\nPobre ExtremoPobre No ExtremoNo Pobre\r\n\r\n\r\n7\r\n\r\n\r\nFACTOR07\r\n\r\n\r\nFactor de Expansión Anual Proyecciones CPV-2007\r\n\r\n\r\nrange: 2.8-1751.3\r\n\r\n\r\nCruzar la data\r\n\r\n\r\nids<-c(\"AÑO\",\"MES\",\"CONGLOME\",\"VIVIENDA\",\"HOGAR\",\"UBIGEO\",\"DOMINIO\",\"ESTRATO\")\r\n\r\n#ENAHO 2019\r\nenaho2019<-\r\n  #modulo5 = base\r\n  m05_2019 %>% select(ids,CODPERSO,P507,P207,P208A,I520,I538A1,I538E1,OCU500,D524A1,OCUPINF,EMPLPSEC,FAC500A) %>% \r\n  #modulo1\r\n  left_join(m01_2019 %>% select(ids,PANEL,NBI1,NBI2,NBI3,NBI4,NBI5,FACTOR07)) %>%\r\n  #modulo3\r\n  left_join(m03_2019 %>% select(ids,CODPERSO,P300A,P301A,FACTOR07)) %>% \r\n  #modulo34\r\n  left_join(m34_2019 %>% select(ids,MIEPERHO,INGHOG2D,GASHOG2D,GRU11HD,ESTRSOCIAL,POBREZA,FACTOR07))\r\n  \r\n\r\n#ENAHO 2020\r\nenaho2020<-\r\n  #modulo5 = base\r\n  m05_2020 %>% select(ids,CODPERSO,P507,P207,P208A,I520,I538A1,I538E1,OCU500,D524A1,OCUPINF,EMPLPSEC,FAC500A) %>% \r\n  #modulo1\r\n  left_join(m01_2020 %>% select(ids,PANEL,NBI1,NBI2,NBI3,NBI4,NBI5,FACTOR07)) %>%\r\n  #modulo3\r\n  left_join(m03_2020 %>% select(ids,CODPERSO,P300A,P301A,FACTOR07)) %>% \r\n  #modulo34\r\n  left_join(m34_2020 %>% select(ids,MIEPERHO,INGHOG2D,GASHOG2D,GRU11HD,ESTRSOCIAL,POBREZA,FACTOR07))\r\n\r\n#juntar bases\r\nenaho19_20<-\r\n  bind_rows(enaho2019, enaho2020)\r\n\r\n#restaura en caso se pierda alguna metadata\r\nenaho19_20<-\r\ncopy_labels(enaho19_20, enaho2019)\r\n\r\n#exportar\r\nenaho19_20 %>% \r\n  janitor::clean_names() %>% \r\n  write_sav(\"enaho_2019_2020.sav\")\r\n\r\n\r\n\r\nSintaxis para tabla\r\nCódigo para\r\ntabla para variables numérica (wdt.mean)\r\n\r\n\r\ndata %>%\r\n  as_label() %>%\r\n  group_by(var1) %>%\r\n  summarise(Media = wtd.mean(var2, FACTOR))\r\n\r\n\r\n\r\nCódigo para\r\ntabla para variables categóricas (count)\r\n\r\n\r\ndata %>%\r\n  as_label() %>%\r\n  group_by(var1, var2) %>%\r\n  count(wt=FACTOR) %>%\r\n  filter(!is.na(var1)) %>%\r\n  group_by(var2) %>%\r\n  mutate(n=round_half_up(n), porc=round_half_up(n/sum(n)*100, 2))\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": {},
    "last_modified": "2022-05-06T10:15:13-05:00",
    "input_file": {}
  }
]
